<!DOCTYPE html>
<html>
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <base href="" />
    <meta name="generator" content="Hugo 0.54.0 with theme C8yDocs">
    <title>Working with Cumulocity IoT Edge - Cumulocity IoT Guides</title>
    <meta name="author" content="Carlos Ceia @ Cumulocity">
    <meta name="keywords" content=", Software AG Cloud, Cumulocity IoT, Internet of things, analytics, devices, connect">


    <link rel="icon" href="/favicon.ico">

    

    

    
    
    
    <link rel="stylesheet" href="https://cumulocity.com/guides/style.css">
    

      
      <script> window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","cumulocity.zendesk.com"); </script>
        <script type="text/JavaScript">
          window.zESettings = {
            webWidget: {
              color: {
                theme: '#1776bf'    
              },
              position: {
                horizontal: 'right',
                vertical: 'top'     
              }
            }
          };
          </script>
        
        
   
  </head><body data-spy="scroll" data-target="#main-nav" ><button type="button" class="sidebar-toggle">
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  <span>MENU</span>
</button>
<nav class="main-top-bar" >
  <div class="d-flex container">
    <ul class="nav d-flex flex-start hidden-xs nav-left">
      <li><a href="https://www.softwareag.cloud/site/product/cumulocity-iot.html">Cumulocity IoT</a></li>
      <li><a href="http://resources.cumulocity.com/documentation/jssdk/latest/#/api">Cumulocity Angular API</a></li>
    </ul>
    <ul class="nav flex-end nav-right">
      <li>   <script>
              (function() {
                var cx = '008969372384807682938:yeh7xt785g4';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
              })();
            </script>
        <div id="___gcse_0" dir="ltr"><form class="gsc-search-box gsc-search-box-tools" accept-charset="utf-8"><div class="table-responsive"><table cellspacing="0" cellpadding="0" class="gsc-search-box"><tbody><tr><td class="gsc-input"><div class="gsc-input-box" id="gsc-iw-id1"><table cellspacing="0" cellpadding="0" id="gs_id50" class="gstl_50 gsc-input" style="width: 100%; padding: 0px;"><tbody><tr><td id="gs_tti50" class="gsib_a"><input autocomplete="off" type="text" size="10" class="gsc-input" name="search" title="search" id="gsc-i-id1" placeholder="Custom Search" dir="ltr" spellcheck="false" x-webkit-grammar="builtin:search" lang="en" style="width: 100%; padding: 0px; border: none; margin: -0.0625em 0px 0px; height: 1.25em; background: url(&quot;https://www.google.com/cse/static/images/1x/googlelogo_lightgrey_46x16dp.png&quot;) left center no-repeat rgb(255, 255, 255); text-indent: 48px; outline: none;"></td><td class="gsib_b"><div class="gsst_b" id="gs_st50" dir="ltr"><a class="gsst_a" href="javascript:void(0)" style="display: none;" title="Clear search box" role="button"><span class="gscb_a" id="gs_cb50" aria-hidden="true">×</span></a></div></td></tr></tbody></table></div></td><td class="gsc-search-button"><button class="gsc-search-button gsc-search-button-v2"><svg width="13" height="13" viewBox="0 0 13 13"><title>search</title><path d="m4.8495 7.8226c0.82666 0 1.5262-0.29146 2.0985-0.87438 0.57232-0.58292 0.86378-1.2877 0.87438-2.1144 0.010599-0.82666-0.28086-1.5262-0.87438-2.0985-0.59352-0.57232-1.293-0.86378-2.0985-0.87438-0.8055-0.010599-1.5103 0.28086-2.1144 0.87438-0.60414 0.59352-0.8956 1.293-0.87438 2.0985 0.021197 0.8055 0.31266 1.5103 0.87438 2.1144 0.56172 0.60414 1.2665 0.8956 2.1144 0.87438zm4.4695 0.2115 3.681 3.6819-1.259 1.284-3.6817-3.7 0.0019784-0.69479-0.090043-0.098846c-0.87973 0.76087-1.92 1.1413-3.1207 1.1413-1.3553 0-2.5025-0.46363-3.4417-1.3909s-1.4088-2.0686-1.4088-3.4239c0-1.3553 0.4696-2.4966 1.4088-3.4239 0.9392-0.92727 2.0864-1.3969 3.4417-1.4088 1.3553-0.011889 2.4906 0.45771 3.406 1.4088 0.9154 0.95107 1.379 2.0924 1.3909 3.4239 0 1.2126-0.38043 2.2588-1.1413 3.1385l0.098834 0.090049z"></path></svg></button></td><td class="gsc-clear-button"><div class="gsc-clear-button" title="clear results">&nbsp;</div></td></tr></tbody></table></div></form></div>
      </li>
    </ul>
  </div>
</nav><button type="button" class="to-the-top">
  <span class="sr-only">Top</span>
  <span class="fa fa-chevron-up"></span>
</button><nav class="main-nav navbar">
  <header class="nav-header">
    <a href="https://www.softwareag.cloud/site/dev-center/cumulocity-iot.html">
      <img src="https://cumulocity.com/guides/images/cumulocity-iot.svg"
        class="img-responsive no-zoom"
        alt="Cumulocity IoT">
    </a>

    <div class="dropdown">
      <button class="dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false">
        <span id="current-dropdown-toggle" class="text-truncate"></span> <span class="caret"></span>
      </button>
      <div class="dropdown-menu"
        aria-labelledby="dropdownMenuButton">
        
        
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/release-notes/overview/'><i class="c8y-icon c8y-icon-notification"></i> Release notes</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/concepts/introduction/'><i class="c8y-icon c8y-icon-c8y-data"></i> Concepts guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/users-guide/getting-started/'><i class="c8y-icon c8y-icon-user"></i> User guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/benutzerhandbuch/overview/'><i class="c8y-icon c8y-icon-user"></i> Handbuch</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/devices/overview/'><i class="c8y-icon c8y-icon-device-management"></i> Device guides</a>
        
        
        
        
        
        
        
        

        
        
        
        
        <span class="current-app">Cumulocity IoT Edge</span>
        
        

        <a class='dropdown-menu-item active'
          href='https://cumulocity.com/guides/edge/overview/'><i class="fa fa-book"></i> Cumulocity IoT Edge</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/microservice-sdk/introduction/'><i class="c8y-icon c8y-icon-tools"></i> Microservice SDK guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/device-sdk/introduction/'><i class="c8y-icon c8y-icon-tools"></i> Device SDK guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/web/introduction/'><i class="c8y-icon c8y-icon-smart-rest"></i> Web SDK guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/apama/overview-analytics/'><i class="c8y-icon c8y-icon-data-explorer"></i> Analytics guide</a>
        
        
        
        
        
        
        
        

        
        
        

        <a class='dropdown-menu-item '
          href='https://cumulocity.com/guides/reference/rest-implementation/'><i class="fa fa-book"></i> Reference guide</a>
        
      </div>
    </div>
  </header>

  

  <nav id="main-nav"
    class="nav-sections">
    
    
    <div class="">
        
        
        
        
      <a class=""
        href="https://cumulocity.com/guides/edge/overview/">About this guide</a>
     
      
    </div>
    
    
    
    <div class="">
        
        
        
        
      <a href="javascript:void(0);"
        data-toggle="collapse"
        data-target="#page-nav1"
        class="collapse-btn  collapsed ">
        <i class="fa fa-chevron-right "></i>
      </a>
      
      <a class=""
        href="https://cumulocity.com/guides/edge/introduction/">Introduction</a>
     
      
      
      <div id="page-nav1"
        class="collapse   ">
        <nav class="list-group nav">
          
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/introduction/#versions">Versions</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/introduction/#overview">Overview</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/introduction/#edge-vs-core">Cumulocity IoT Edge versus other Cumulocity deployments</a>
            
            
        </nav>
      </div>
      
    </div>
    
    
    
    <div class="">
        
        
        
        
      <a href="javascript:void(0);"
        data-toggle="collapse"
        data-target="#page-nav2"
        class="collapse-btn  collapsed ">
        <i class="fa fa-chevron-right "></i>
      </a>
      
      <a class=""
        href="https://cumulocity.com/guides/edge/installation/">Setting up Cumulocity IoT Edge</a>
     
      
      
      <div id="page-nav2"
        class="collapse   ">
        <nav class="list-group nav">
          
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#prerequisites">Requirements</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#setting-up-the-environment">Setting up the environment</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#configuration">Configuration</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#accessing-cumulocity">Accessing the Cumulocity platform</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#setting-up-esxi">Example setup for ESXi VMWare</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/installation/#setting-up-virtual-box">Example setup for VirtualBox</a>
            
            
        </nav>
      </div>
      
    </div>
    
    
    
    <div class=" slot-active ">
        
        
        
        
      <a href="javascript:void(0);"
        data-toggle="collapse"
        data-target="#page-nav3"
        class="collapse-btn ">
        <i class="fa fa-chevron-right "></i>
      </a>
      
      <a class=" active "
        href="https://cumulocity.com/guides/edge/usage/">Working with Cumulocity IoT Edge</a>
     
      
      
      <div id="page-nav3"
        class="collapse   show  ">
        <nav class="list-group nav">
          
          
          <a class="list-group-item"
            href="#iot-platform">IoT platform</a>
          
            
          
          <a class="list-group-item"
            href="#connecting-devices">Connecting devices</a>
          
            
          
          <a class="list-group-item"
            href="#connecting-cloud">Connecting to the Cloud</a>
          
            
          
          <a class="list-group-item"
            href="#apama">Realtime analytics using Apama</a>
          
            
        </nav>
      </div>
      
    </div>
    
    
    
    <div class="">
        
        
        
        
      <a href="javascript:void(0);"
        data-toggle="collapse"
        data-target="#page-nav4"
        class="collapse-btn  collapsed ">
        <i class="fa fa-chevron-right "></i>
      </a>
      
      <a class=""
        href="https://cumulocity.com/guides/edge/operation/">Operating Cumulocity IoT Edge</a>
     
      
      
      <div id="page-nav4"
        class="collapse   ">
        <nav class="list-group nav">
          
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#overall-concepts">Architecture</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#troubleshooting">Troubleshooting the system</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#update">Upgrading the system</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#backup-restore">Backup and restore</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#administration-configuration">Administration and configuration</a>
            
            
          
            <a class="list-group-item"
              href="https://cumulocity.com/guides/edge/operation/#operational-procedures">Restarting services</a>
            
            
        </nav>
      </div>
      
    </div>
    
    
    
    
  </nav>
</nav>
<div class="cover"></div>

<div class="main-content">
  <article class="page-section">
    <header class="section-header">
      <h1 class="text-light">Working with Cumulocity IoT Edge</h1>
    </header>
    
      <div class="lead">
        
      </div>
      
  </article>

  
  
  
  <article id="iot-platform" class="page-section">
    <h2>
      <button class="btn-link bookmark" data-clipboard-text="#iot-platform">
        <span class="fa fa-link"></span>
      </button>
      IoT platform</h2>
    

<p>Cumulocity IoT Edge comes with three built-in applications - Device Management, Cockpit and Application.</p>

<p>Since Cumulocity IoT Edge is based on the same software as the cloud-based Cumulocity IoT Core version, the above applications are the same in both versions, with minor restrictions.</p>

<p>Below find an overview on the functionalities of these applications in Cumulocity IoT Edge.</p>

<p>For general information on functionalities and features of the GUI refer to <a href="/guides/users-guide/overview#gui-features">GUI functionalities and features</a>.</p>

<p>For information on how to change the user settings of your account refer to <a href="/guides/users-guide/overview#user-settings">User settings</a>.</p>

<h3 id="device-management">Device Management</h3>

<p>The <a href="/guides/users-guide/device-management">Device Management application</a> provides functionalities for managing and monitoring devices and enables you to control and troubleshoot devices remotely.</p>

<p>The following functionalities are available in Cumulocity IoT Edge and described in detail in these sections:</p>

<table>
<thead>
<tr>
<th align="left">SECTION</th>
<th align="left">CONTENT</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="/guides/users-guide/device-management#device-registration">Connecting devices</a></td>
<td align="left">How to <a href="/guides/users-guide/device-management#device-registration-manually">register one or more devices manually</a> and how to <a href="/guides/users-guide/device-management#creds-upload">bulk-register devices</a> in order to connect devices to your account.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#viewing-devices">Viewing devices</a></td>
<td align="left">What is displayed in the <a href="/guides/users-guide/device-management#device-list">device list</a> and how to sort devices by <a href="/guides/users-guide/device-management#searching-devices">searching for devices</a> and <a href="/guides/users-guide/device-management#filtering-devices">filtering devices</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#grouping-devices">Grouping devices</a></td>
<td align="left">Why and how to group devices into top-level groups, subgroups and <a href="/guides/users-guide/device-management#smart-groups">smart groups</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#device-details">Device details</a></td>
<td align="left">Detailed description of the various kind of  information available for various types of  devices.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#monitoring-and-controlling-devices">Monitoring and controlling devices</a></td>
<td align="left">How to monitor the <a href="/guides/users-guide/device-management#connection-monitoring">connection quality</a> and <a href="/guides/users-guide/device-management#monitoring-services">service status</a> of devices, how to handle <a href="/guides/users-guide/device-management#alarm-monitoring">alarms</a> from devices, how to <a href="/guides/users-guide/device-management#operation-monitoring">remote control</a> and how to <a href="/guides/users-guide/device-management#events-all">troubleshoot</a> devices.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#managing-device-types">Managing device types</a></td>
<td align="left">How to process data from various device types by using <a href="/guides/users-guide/device-management#managing-device-types">device protocols</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#managing-device-data">Managing device data</a></td>
<td align="left">How to retrieve and manage <a href="/guides/users-guide/device-management#software-repo">firmware and software</a> for devices and how to handle <a href="/guides/users-guide/device-management#configuration-repository">configuration snapshots</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management#smartrest-templates">Using SmartREST templates</a></td>
<td align="left">How to work with <a href="/guides/users-guide/device-management#smartrest-templates">SmartREST  templates</a>, a collection of request and response templates used to convert CSV data and Cumulocity Rest API calls.</td>
</tr>
</tbody>
</table>

<h3 id="cockpit">Cockpit</h3>

<p>The <a href="/guides/users-guide/cockpit">Cockpit application</a> provides you with options to manage and monitor  Internet of Things (IoT) assets and data from a business perspective.</p>

<p>The following functionalities are available in Cumulocity IoT Edge and described in detail in these sections:</p>

<table>
<thead>
<tr>
<th align="left">Section</th>
<th align="left">Content</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="/guides/users-guide/cockpit#managing-assets">Managing assets</a></td>
<td align="left">Organize assets in <a href="/guides/users-guide/cockpit#hierarchies">hierarchies</a> by <a href="/guides/users-guide/cockpit#creating-groups">creating groups</a> and <a href="/guides/users-guide/cockpit#assigning-devices">assigning devices</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#data-explorer">Visualizing data using the Data Explorer</a></td>
<td align="left">Interactively explore, compare and visualize IoT data. <br> Describes how to access and use the <a href="/guides/users-guide/cockpit#data-explorer">data explorer</a>, <a href="/guides/users-guide/cockpit#add-data-points">add data points</a> to the data explorer, <a href="/guides/users-guide/cockpit#customize-data-points">customize data point properties</a>, <a href="/guides/users-guide/cockpit#change-visualization">modify the visualization</a>, store the <a href="/guides/users-guide/cockpit#create-widget">data explorer as widget</a>, and <a href="/guides/users-guide/cockpit#export-data">export</a> the data.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#dashboards">Working with dashboards</a></td>
<td align="left"><a href="/guides/users-guide/cockpit#creating-dashboards">Create your own analytics and monitor pages</a> by adding and arranging <a href="/guides/users-guide/cockpit#adding-widgets">widgets</a>. <a href="/guides/users-guide/cockpit#sharing-dashboards">Share dashboards</a> among all devices of the same type.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#widgets">Widgets collection</a></td>
<td align="left">Use various types of <a href="/guides/users-guide/cockpit#widgets">widgets</a> from the Widgets collection that comes with Cumulocity and configure them according your needs.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/device-management/#alarm-monitoring">Working with alarms</a></td>
<td align="left">Monitor problems of your assets using severities and workflows. Since working with alarms in the Cockpit application is actually the same as working with alarms in Device Management, refer to <a href="/guides/users-guide/device-management/#alarm-monitoring">Working with alarms</a> in Device Management.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#reports">Managing reports</a></td>
<td align="left">Handle <a href="/guides/users-guide/cockpit#reports">reports</a> based on dashboard layouts, create <a href="/guides/users-guide/cockpit#reporting">reports for exporting data</a> in CSV or excel format and <a href="/guides/users-guide/cockpit#schedule-export">schedule the export</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#data-point-library">Using the Data Point Library</a></td>
<td align="left">Manage default settings (&ldquo;profiles&rdquo;) of your devices and apply them automatically using the <a href="/guides/users-guide/cockpit#data-point-library">Data Point Library</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#smart-rules">Working with Smart Rules</a></td>
<td align="left"><a href="/guides/users-guide/cockpit#create-rules">Create and manage business rules</a> to work on incoming data in realtime and to perform actions based on this data.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/cockpit#smart-rules-collection">Smart Rules collection</a></td>
<td align="left">Use pre-defined <a href="/guides/users-guide/cockpit#smart-rules-collection">global Smart Rules</a> to configure rules for geofencing, thresholds or alarm escalation and notifications (SMS/email/voice). Describes each SmartRule and its configurable parameters in detail.</td>
</tr>
</tbody>
</table>

<h3 id="administration">Administration</h3>

<p>The <a href="/guides/users-guide/administration">Administration application</a> enables account administrators to manage their users, roles, tenants and applications and lets them configure a number of settings for their account.</p>

<p>The following functionalities are available in Cumulocity IoT Edge and described in detail in these sections:</p>

<table>
<thead>
<tr>
<th align="left">SECTION</th>
<th align="left">CONTENT</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="/guides/users-guide/administration#home-screen">Home Screen</a></td>
<td align="left">Providing information on your <a href="/guides/users-guide/administration#home-screen">capacity usage and subscribed applications</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/administration#managing-users">Managing Users</a></td>
<td align="left">How to <a href="/guides/users-guide/administration#creating-users">create users</a>, edit, disable or delete them.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/administration#managing-permissions">Managing Permissions</a></td>
<td align="left">How to create and edit <a href="/guides/users-guide/administration#global">global roles</a> and <a href="/guides/users-guide/administration#inventory">inventory roles</a>, how to assign them to users, and how to <a href="/guides/users-guide/administration#app-access">grant application access</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/administration#managing-applications">Managing own applications</a></td>
<td align="left">How to manage and <a href="/guides/users-guide/administration#managing-applications">configure own applications</a> in your Cumulocity account.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/administration#changing-settings">Changing settings</a></td>
<td align="left">How to change account settings like <a href="/guides/users-guide/administration#default-app">application settings</a> or <a href="/guides/users-guide/administration#changing-password-settings">password policy settings</a> and how to manage the <a href="/guides/users-guide/administration#properties">properties library</a>.</td>
</tr>

<tr>
<td align="left"><a href="/guides/users-guide/administration#retention-rules">Managing data retention</a></td>
<td align="left">How to manage and configure <a href="/guides/users-guide/administration#retention-rules">retention rules</a> for your data and how to <a href="/guides/users-guide/administration#files">manage stored files</a> in the file repository.</td>
</tr>
</tbody>
</table>

  </article>
  
  <article id="connecting-devices" class="page-section">
    <h2>
      <button class="btn-link bookmark" data-clipboard-text="#connecting-devices">
        <span class="fa fa-link"></span>
      </button>
      Connecting devices</h2>
    

<p>Cumulocity uses REST and MQTT as protocols for external communication. Both protocols may be used to interface devices with Cumulocity. For details refer to   the sections on <a href="/guides/device-sdk/rest">Device integration using REST</a> and <a href="/guides/device-sdk/mqtt">Device integration using MQTT</a> in the Device SDK guide.</p>

<p>Additionally, Cumulocity IoT Edge offers Cloud Fieldbus functionality to collect data from fieldbus devices and remotely manage them. To do so, various protocols are provided, e.g. Modbus and OPC/UA. For details on how to integrate devices using Modbus and OPC/UA, refer to Optional Services &gt; <a href="/guides/users-guide/optional-services#cloud-fieldbus">Cloud Fieldbus</a> in the User guide.</p>

<h3 id="connecting-a-modbus-device">Connecting a Modbus device</h3>

<p>Modbus is a serial communications protocol originally published by Modicon and used to establish master-slave/client-server communication between devices.</p>

<p>Before you can connect a Modbus device you first have to configure the Modbus agent. This only has to be done once as a preparation step and is not required for every Modbus device.</p>

<h4 id="configuring-the-modbus-agent">Configuring the Modbus agent</h4>

<p>Check if the Modbus agent is running in Edge (running on port  6670):</p>

<pre><code>$ systemctl status cumulocity-agent
</code></pre>

<p>Once the agent is started navigate to the log file or execute the following command to monitor the log:</p>

<pre><code>tailf /var/log/cumulocity-agent.log
</code></pre>

<p>Copy the cumulocity-agent device ID which you can find in <code>/var/log/cumulocity-agent.log</code>, e.g. &ldquo;C0F64C7B90A14C4BB22AB526928F09A9”. This ID will be used for the registration process.</p>

<p><img src="/guides/images/edge/edge-modbus-register-01.png" name="Log file" style="width:100%;"/></p>

<h4 id="registering-the-agent">Registering the agent</h4>

<p>Next, register the agent in the Device management application using the device ID copied from the log file.</p>

<p><img src="/guides/images/edge/edge-modbus-register-02.png" name="Register device" style="width:50%;"/></p>

<p>Follow the description in Device Management &gt; <a href="/guides/users-guide/device-management#connecting-devices">Connecting devices</a> in the User guide to register the agent.</p>

<p>In the Device Management application, click “All devices” in the navigator and find the Modbus agent in the device list.</p>

<p><img src="/guides/images/edge/edge-device-list.png" name="Device list" style="width:100%;"/></p>

<p>For further information on connecting and managing Modbus devices, refer to <a href="/guides/users-guide/optional-services#cloud-fieldbus">Optional services &gt; Cloud Fieldbus</a> in the User guide.</p>

<h3 id="example-connecting-an-opcua-device">Example: Connecting an OPCUA device</h3>

<p>To connect an OPC/UA device in Edge, follow the steps below.</p>

<h4 id="preparation">Preparation</h4>

<p>Check if the OPC/UA agent is running in Edge (running on port  6670):</p>

<pre><code>$ sudo systemctl status opcua-agent-server
</code></pre>

<p><img src="/guides/images/edge/edge-device-check-agent.png" name="Check agent" style="width:100%;"/></p>

<p>Check if the platform.url in <code>/etc/opcua/opcua-agent-gateway.properties</code> is pointing to the correct URL, which is <code>http://localhost</code>.</p>

<h4 id="registering-the-device">Registering the device</h4>

<p>Next, you need to register a device in the Device management application with the same device ID as the gateway.identifier in <code>/etc/opcua/opcua-agent-gateway.properties</code>, e.g. “opcua”.</p>

<p><img src="/guides/images/edge/edge-device-register.png" name="Register device" style="width:50%;"/></p>

<p>Follow the description in Device Management &gt; <a href="/guides/users-guide/device-management#connecting-devices">Connecting devices</a> in the User guide to register a device.</p>

<p>In the Device Management application, click “All devices” in the navigator and find the opcua device in the device list.</p>

<p><img src="/guides/images/edge/edge-device-list.png" name="Device list" style="width:100%;"/></p>

<p>For further information on managing and configuring OPCUA devices, refer to <a href="/guides/users-guide/optional-services#cloud-fieldbus">Optional services &gt; Cloud Fieldbus</a> in the User guide.</p>

  </article>
  
  <article id="connecting-cloud" class="page-section">
    <h2>
      <button class="btn-link bookmark" data-clipboard-text="#connecting-cloud">
        <span class="fa fa-link"></span>
      </button>
      Connecting to the Cloud</h2>
    <p>Cumulocity IoT Edge provides the option to upload Edge data to a Cumulocity Cloud account selectively (note that you first need to create a Cloud account).</p>

<p>You can share the following data:</p>

<ul>
<li>devices (and more generically, managed objects)</li>
<li>events</li>
<li>alarms</li>
<li>measurements</li>
<li>operations</li>
</ul>

<p>Navigate to &ldquo;Data connectors&rdquo; if you would like to send data to the Cloud account.</p>

<p>Navigate to &ldquo;Data subscriptions&rdquo; in your cloud account to receive the data from Edge.</p>

<p><img src="/guides/images/users-guide/data-broker-on-navigator.PNG" alt="Data broker menus"></p>

<p>In the same way, you can push operations from a Cumulocity Cloud account to Edge devices.</p>

<p>For details on sending and receiving data in Cumulocity refer to <a href="/guides/users-guide/enterprise-edition#data-broker">Using the Data Broker</a> in the User guide.</p>

  </article>
  
  <article id="apama" class="page-section">
    <h2>
      <button class="btn-link bookmark" data-clipboard-text="#apama">
        <span class="fa fa-link"></span>
      </button>
      Realtime analytics using Apama</h2>
    

<h3 id="introduction">Introduction</h3>

<p>You can add your own real-time analytics to Cumulocity IoT Edge using the Apama Event Processing Language.</p>

<p>Apama is a complete CEP platform. It contains a complex event processing engine and a comprehensive set of tools to develop, integrate, and deploy event-driven applications.</p>

<p>With Apama you can</p>

<ul>
<li>monitor rapidly moving channels of events from multiple sources</li>
<li>detect and analyze events and event patterns of interest</li>
<li>respond to them in real time</li>
</ul>

<p>For further information refer to the <a href="/guides/apama">Apama guide</a> or see the topic Developing Apama Applications in EPL in the <a href="http://www.apamacommunity.com/documents/10.1.0.3/apama_10.1.0.3_webhelp/apama-webhelp/">Apama documentation</a> for full details.</p>

<h3 id="uploading-a-custom-apama-cep-rule">Uploading a custom Apama CEP rule</h3>

<p>In Cumulocity, users can configure their own custom rules bases on their business needs. These custom rule files can be uploaded to the platform which in turn is injected as a monitor in Apama.</p>

<p>The following example shows how to upload a custom mon file to Cumulocity.</p>

<ol>
<li><p>First create a custom mon file, as shown in our example for measurements. This sample custom rule creates an alarm for every measurement of type “c8y_SpeedMeasurement” where the “speed” value goes beyond 600.</p>

<pre><code>using com.apama.cumulocity.Measurement;
using com.apama.cumulocity.Event;
using com.apama.cumulocity.Alarm;

monitor SampleMonitor {

action onload {     
    monitor.subscribe(Measurement.CHANNEL);
    on all Measurement() as measurement {

        Event newEvent := new Event;
        newEvent.source := measurement.source;
        newEvent.type := &quot;Event in Edge 9.0.x&quot;;
        newEvent.time := currentTime;
        newEvent.text := &quot;test custom smart rule using apama CEP - in Edge 9.0.x&quot;;
        newEvent.params[&quot;First_String&quot;] := &quot;Execute the plan discussed&quot;;
        newEvent.params[&quot;Second_String&quot;] := &quot;Some kmat Random key-value param&quot;;
        send newEvent to &quot;CumulocityIoT&quot;;

        if measurement.measurements.getOrDefault(&quot;c8y_SpeedMeasurement&quot;).getOrDefault(&quot;speed&quot;).value &gt; 600.0 {
            send Alarm(&quot;&quot;, &quot;My_Alarm_MAJOR_Version_1&quot;, measurement.source, currentTime, 
                        &quot; Test in Edge 9.0.x MAJOR Alarm&quot;, &quot;ACTIVE&quot;, &quot;MAJOR&quot;, 
                        1, new dictionary&lt;string, any&gt;) to Alarm.CHANNEL;
        } else {
            send Alarm(&quot;&quot;, &quot;My_KMAT_Alarm_Minor_Version_1&quot;, measurement.source, currentTime, 
                        &quot;Test in Edge 9.0.x Alarm MINOR&quot;, &quot;ACTIVE&quot;, &quot;MINOR&quot;, 
                        1, new dictionary&lt;string, any&gt;) to Alarm.CHANNEL;
        }

    }
}

}
</code></pre></li>

<li><p>In the Administration application, open the <strong>Own Applications</strong> page from the navigator. Click “<strong>Add application</strong> and in the upcoming window click <strong>Upload custom Apama rule</strong>. <br>
<img src="/guides/images/edge/edge-apama-upload-file.png" name="Upload file" style="width:50%;"/></p></li>

<li><p>Upload the Apama monitor file (.mon) previously created. After successful upload your rule will be deployed as a custom Apama application.</p></li>

<li><p>In the <strong>Own Applications</strong> page, you can now open your custom Apama application with type “Apama CEP rule”. <br>
<img src="/guides/images/edge/edge-apama-own-application.png" name="Apama application" style="width:50%;"/></p></li>
</ol>

<h3 id="monitoring-alarms-and-events">Monitoring alarms and events</h3>

<p>In the Cockpit application, select the device sending measurements in the <strong>Groups</strong> menu in the navigator and switch to its <strong>Alarms</strong> tab (since the custom rule written was such that it creates alarms).</p>

<p><img src="/guides/images/edge/edge-apama-alarms.png" name="Alarms" style="width:50%;"/></p>

<p>In the Device Management application, click <strong>All devices</strong> in the navigator. Select the device from the device list and switch to the <strong>Events</strong> tab, to see the events sent by Apama as per the custom CEP rule.</p>

<p><img src="/guides/images/edge/edge-apama-events.png" name="Events" style="width:100%;"/></p>

  </article>
  
  
</div>
<footer class="main-footer">
  <div class="copyright">
    <div class="container text-center">
      <p class="small ">&copy; 2019 Cumulocity GmbH | All rights reserved.</p>
    </div>
  </div>  
</footer>

<!-- Essential Scripts -->

<!-- jQuery -->
<script src="https://cumulocity.com/guides/js/vendor/jquery.min.js"></script>
<script src="https://cumulocity.com/guides/js/vendor/bootstrap.bundle.min.js"></script>
<script src="https://cumulocity.com/guides/js/vendor/clipboard.js"></script>
<script src="https://cumulocity.com/guides/js/vendor/zoom.js"></script>
<script src="https://cumulocity.com/guides/js/vendor/highlight.min.js"></script>
<script src="https://cumulocity.com/guides/js/main.js"></script>





    
   
  </body>
</html>
