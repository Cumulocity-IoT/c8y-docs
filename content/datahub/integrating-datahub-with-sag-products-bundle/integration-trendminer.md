---
weight: 10
title: Integrating DataHub with TrendMiner
layout: redirect
---

TrendMiner provides process manufacturing companies the analytical means to further optimize their production processes. The self-service analytics approach allows you to conduct time-series industrial analytics, with data being automatically visualized in displays and dashboards.

For that purpose, TrendMiner accesses industrial data generated by those production processes, resulting in time series of sensor, instrument, and asset data. TrendMiner analyzes these time series in order to identify trends and patterns and derive actionable insights solving production issues.

With the offloading and query capabilities of DataHub, TrendMiner can also access and analyze the data being managed by the Cumulocity IoT platform. Key features of the integration between DataHub and TrendMiner are:

* TrendMiner can leverage historical data of the Cumulocity IoT platform without adversely affecting the Operational Store of the platform. DataHub offloads the data from the Operational Store to a data lake.
* TrendMiner offers a time-series visualization interface and operational monitoring, both relying on live data. DataHub provides for that purpose a live view on recent data in the Operational Store of Cumulocity IoT.
* DataHub unifies the data access layer so that TrendMiner can access historical and live data by querying a single table.
* DataHub ensures that the layout of that table meets the query needs of TrendMiner, i.e., the data is in a relational and flattened format, not in a document format as in the Operational Store.

The following diagram illustrates the high-level concepts.

TODO: compose pic

### Design of a TrendMiner offloading pipeline

Providing TrendMiner access to Cumulocity IoT data requires you solely to define an offloading pipeline. When the offloading pipeline is in place, Cumulocity IoT data is extracted from the Operational Store, flattened, and exported into a data lake. 

In Dremio a new table is provided, which combines the historical data in the data lake with recent data in the Operational Store. DataHub takes care that the combined data is lossless and does not introduce duplicates.

> **Info:** So far DataHub provides TrendMiner acccess to the measurements collection. Other base collections are not yet supported.

You have to follow the instructions in Section [Configuring offloading jobs](/datahub/working-with-datahub/#configuring-offloading-jobs) on how to configure an offloading pipeline for the measurements collection, so that TrendMiner can access the data.

### Accessing Cumulocity IoT data in TrendMiner

Once you have defined and activated an offloading pipeline, the initial offload has to be completed before you can start querying the data in TrendMiner.

> **Warning:** The offloading pipeline has to be activate. If the pipeline is deactivated, you can only query the contents offloaded into the data lake so far. Access to recent data will be deactivated.

In TrendMiner you have to connect to the table **c8y_cdh_tm_measurements** using ODBC. For the ODBC connection settings, you have to navigate to the **Home** page in the DataHub UI and click the ODBC icon to open the ODBC connection settings.

For more details on the steps required in TrendMiner, see also TODO: add link to TM doc. 