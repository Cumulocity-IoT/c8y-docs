---
weight: 40
title: Bulk Device Registration 
layout: bundle
---

The key functionality required for many device integrations is the ability to register many devices at the same time. Currently, all protocols have to rely on the bulk-registration mechanism of the platform, which often either requires too many fields or requires custom fields to be added. The latter ones can however so far not be validated, as the core directly creates devices -- and microservices and agents have no control over the properties being written to the managed objects.

After enabling `extensibleBulkDeviceRegistration` extension type, Device management > Devices > Registration > Register device > `Bulk device registration` modal is being displayed with extended wizard entry after extension `name` property:
![Select guide](/images/extensible-device-registration/register-device-menu-with-extensible-device-reg.png)

Additionally, the microservice is providing title of the wizard step and example bulk file(s):
```json
{
  "c8y_DeviceRegistration": {
    "title": "<title>",
    "description": "<description>",
    "bulk": {
      "title": "<bulk form title>",
      "exampleFileUrls": [{
        "title": "<example title>",
        "description": "<example description>",
        "url": "<publicly-reachable-URL>"
      }]
    }
  }
}
```

As a result of following wizard will be displayed:
![Select guide](/images/extensible-device-registration/extensible-bulk-device-reg.png)

### API Specification

The device integration microservices have to implement following REST endpoints:

```
GET /service/<contextPath>/deviceRegistration/metadata?lang=<user-language>
Accept: application/json
```

Returns the metadata in the vocabulary of JSON Schema.

```
POST /service/<contextPath>/deviceRegistration/bulk`
Content-Type: multipart/form-data; boundary=boundary

--boundary
Content-Disposition: form-data; name="file"; filename="<input csv file>"
Content-Type: text/csv

--boundary--
```

Sends multipart form-data of csv file type.


### Bulk flow diagram
![Bulk diagram](/images/extensible-device-registration/bulk-diagram-sync.png)
